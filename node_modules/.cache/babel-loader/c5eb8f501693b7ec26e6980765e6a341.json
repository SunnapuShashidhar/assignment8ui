{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\shashidhar\\\\OneDrive\\\\Desktop\\\\Assignment8ui\\\\src\\\\Components\\\\Filter\\\\Payment.js\";\nimport React, { Component } from 'react';\nimport { Consumer } from '../../context';\nimport axios from 'axios';\n\nclass Payment extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      payments: []\n    };\n\n    this.handlePayments = () => {\n      const {\n        payments\n      } = this.state;\n      return payments.min_price;\n    };\n\n    this.makePayment = () => {\n      const {\n        payments\n      } = this.state;\n      var config = {\n        \"root\": \"\",\n        \"style\": {\n          \"bodyBackgroundColor\": \"#fafafb\",\n          \"bodyColor\": \"\",\n          \"themeBackgroundColor\": \"#0FB8C9\",\n          \"themeColor\": \"#ffffff\",\n          \"headerBackgroundColor\": \"#284055\",\n          \"headerColor\": \"#ffffff\",\n          \"errorColor\": \"\",\n          \"successColor\": \"\",\n          \"card\": {\n            \"padding\": \"\",\n            \"backgroundColor\": \"\"\n          }\n        },\n        \"data\": {\n          \"orderId\": payments._id,\n          // \"token\": payments.token,\n          // \"tokenType\": \"TXN_TOKEN\",\n          \"amount\": payments.min_price\n          /* update amount */\n\n        },\n        \"payMode\": {\n          \"labels\": {},\n          \"filter\": {\n            \"exclude\": []\n          },\n          \"order\": [\"CC\", \"DC\", \"NB\", \"UPI\", \"PPBL\", \"PPI\", \"BALANCE\"]\n        },\n        \"website\": \"WEBSTAGING\",\n        \"flow\": \"DEFAULT\",\n        \"merchant\": {\n          \"mid\": payments._id,\n          \"redirect\": false\n        },\n        \"handler\": {\n          \"transactionStatus\": function transactionStatus(paymentStatus) {\n            console.log(paymentStatus);\n          },\n          \"notifyMerchant\": function notifyMerchant(eventName, data) {\n            console.log(\"Closed\");\n          }\n        }\n      };\n\n      if (window.Paytm && window.Paytm.CheckoutJS) {\n        window.Paytm.CheckoutJS.init(config).then(function onSuccess() {\n          window.Paytm.CheckoutJS.invoke();\n        }).catch(function onError(error) {\n          console.log(\"Error => \", error);\n        });\n      }\n    };\n  }\n\n  componentDidMount() {\n    axios({\n      method: \"GET\",\n      url: `https://assignment7ofedureka.herokuapp.com/restarent/getRestaurantById/${this.props.match.params.id}`,\n      header: {\n        \"Content-type\": \"application/json\"\n      }\n    }).then(responce => {\n      this.setState({\n        payments: responce.data\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container mt-5\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }\n    }, loading ? /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://c.tenor.com/I6kN-6X7nhAAAAAj/loading-buffering.gif\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 12\n      }\n    }) : /*#__PURE__*/React.createElement(\"button\", {\n      onClick: makePayment,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 12\n      }\n    }, \"Pay Now \"));\n  }\n\n}\n\nexport default Payment;","map":{"version":3,"sources":["C:/Users/shashidhar/OneDrive/Desktop/Assignment8ui/src/Components/Filter/Payment.js"],"names":["React","Component","Consumer","axios","Payment","state","payments","handlePayments","min_price","makePayment","config","_id","transactionStatus","paymentStatus","console","log","notifyMerchant","eventName","data","window","Paytm","CheckoutJS","init","then","onSuccess","invoke","catch","onError","error","componentDidMount","method","url","props","match","params","id","header","responce","setState","render","loading"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport { Consumer } from '../../context';\r\nimport axios from 'axios';\r\nclass Payment extends Component {\r\n  state = {\r\n    payments: []\r\n  }\r\n  componentDidMount() {\r\n    axios({\r\n      method: \"GET\",\r\n      url: `https://assignment7ofedureka.herokuapp.com/restarent/getRestaurantById/${this.props.match.params.id}`,\r\n      header: { \"Content-type\": \"application/json\" },\r\n    }).then((responce) => {\r\n      this.setState({ payments: responce.data });\r\n    });\r\n  }\r\n  handlePayments = () => {\r\n    const { payments } = this.state;\r\n    return payments.min_price\r\n  }\r\n  makePayment = () => {\r\n    const { payments } = this.state;\r\n\r\n    var config = {\r\n      \"root\": \"\",\r\n      \"style\": {\r\n        \"bodyBackgroundColor\": \"#fafafb\",\r\n        \"bodyColor\": \"\",\r\n        \"themeBackgroundColor\": \"#0FB8C9\",\r\n        \"themeColor\": \"#ffffff\",\r\n        \"headerBackgroundColor\": \"#284055\",\r\n        \"headerColor\": \"#ffffff\",\r\n        \"errorColor\": \"\",\r\n        \"successColor\": \"\",\r\n        \"card\": {\r\n          \"padding\": \"\",\r\n          \"backgroundColor\": \"\"\r\n        }\r\n      },\r\n      \"data\": {\r\n        \"orderId\": payments._id,\r\n        // \"token\": payments.token,\r\n        // \"tokenType\": \"TXN_TOKEN\",\r\n        \"amount\": payments.min_price /* update amount */\r\n      },\r\n      \"payMode\": {\r\n        \"labels\": {},\r\n        \"filter\": {\r\n          \"exclude\": []\r\n        },\r\n        \"order\": [\r\n          \"CC\",\r\n          \"DC\",\r\n          \"NB\",\r\n          \"UPI\",\r\n          \"PPBL\",\r\n          \"PPI\",\r\n          \"BALANCE\"\r\n        ]\r\n      },\r\n      \"website\": \"WEBSTAGING\",\r\n      \"flow\": \"DEFAULT\",\r\n      \"merchant\": {\r\n        \"mid\": payments._id,\r\n        \"redirect\": false\r\n      },\r\n      \"handler\": {\r\n        \"transactionStatus\":\r\n          function transactionStatus(paymentStatus) {\r\n            console.log(paymentStatus);\r\n          },\r\n        \"notifyMerchant\":\r\n          function notifyMerchant(eventName, data) {\r\n            console.log(\"Closed\");\r\n          }\r\n      }\r\n    };\r\n\r\n    if (window.Paytm && window.Paytm.CheckoutJS) {\r\n      window.Paytm.CheckoutJS.init(config).\r\n        then(function onSuccess() {\r\n          window.Paytm.CheckoutJS.invoke();\r\n        }).catch(function onError(error) {\r\n          console.log(\"Error => \", error);\r\n        });\r\n    }\r\n  }\r\n  render() {\r\n    return (\r\n      <div className='container mt-5'>\r\n        {loading ?\r\n          (< img src=\"https://c.tenor.com/I6kN-6X7nhAAAAAj/loading-buffering.gif\" />)\r\n          :\r\n          (< button onClick={makePayment}>Pay Now </button>)\r\n        }\r\n      </div>\r\n    )\r\n\r\n\r\n  }\r\n}\r\n\r\nexport default Payment;"]},"metadata":{},"sourceType":"module"}